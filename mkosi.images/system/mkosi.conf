[Config]
Dependencies=initrd

[Output]
Output=%i
ManifestFormat=json
SplitArtifacts=true

[Content]
Bootable=true
Bootloader=systemd-boot
BootloaderEntryFormat=%i_%v

Initrds=%O/initrd.cpio.zst
KernelCommandLine=rw

# Do not remove the package metadata so that additional packages
# can be installed in filesystem overlays (sysext and confext)
CleanPackageMetadata=false

# Kernel & Firmware
Packages=
	linux
	linux-firmware

# CPU Microcode
Packages=
	amd-ucode
	intel-ucode

# Systemd utilities
Packages=
	systemd
	systemd-sysvcompat
	qrencode
	libpwquality
	quota-tools

# Security utilities
Packages=
	tpm2-tss
	libp11-kit
	libfido2

# Filesystem utilities
Packages=
	e2fsprogs
	btrfs-progs
	exfatprogs
	dosfstools

# Userspace utilities
Packages=
	glibc
	glibc-locales
	bash
	bash-completion
	mandoc
	man-pages
	posix
	posix-xsi
	usbutils
	pciutils
	nano
	less

# Archive formats
Packages=
	tar
	cpio
	p7zip
	lhasa
	unrar
	unzip
	zip

# Compession formats
Packages=
	bzip2
	bzip3
	gzip
	lrzip
	lz4
	lzip
	lzop
	xz
	zstd

# Bluetooth
Packages=
	bluez
	bluez-cups
	bluez-obex
	bluez-tools

# Networking
Packages=
	modemmanager
	networkmanager
	iptables-nft

# Microcode files
RemoveFiles=
	/boot/*.img

# Development files
RemoveFiles=
	/usr/lib/*.a
	/usr/lib/*.o
	/usr/lib/*/include/
	/usr/include/
	/usr/src/
	/usr/local/

# Packaging files
RemoveFiles=
	/usr/*/cmake/
	/usr/*/pkgconfig/

# Shell files
RemoveFiles=
	/usr/share/fish/
	/usr/share/zsh/
